{"version":3,"sources":["../../../../../../damianwebsite/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../damianwebsite/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../damianwebsite/frontend/app/dashboard/components/HotnessIndicator.tsx","../../../../../../damianwebsite/frontend/app/dashboard/services/scoringService.ts","../../../../../../damianwebsite/frontend/app/dashboard/page.tsx","../../../../../../damianwebsite/frontend/app/dashboard/components/LeadCard.tsx","../../../../../../damianwebsite/frontend/app/dashboard/components/AnalyticsSection.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\n/**\n * Hotness Indicator Component\n * Visual representation of lead hotness with hover explanation\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { LeadHotness, HotnessFactor } from '../types';\nimport { getHotnessExplanation } from '../services/scoringService';\n\ninterface HotnessIndicatorProps {\n  hotness: LeadHotness;\n  factors: HotnessFactor[];\n  size?: 'sm' | 'md' | 'lg';\n}\n\nconst hotnessConfig = {\n  hot: {\n    emoji: 'üî•',\n    label: 'Hot Lead',\n    bgColor: 'bg-red-50',\n    borderColor: 'border-red-200',\n    textColor: 'text-red-700'\n  },\n  warm: {\n    emoji: 'üü°',\n    label: 'Warm Lead',\n    bgColor: 'bg-yellow-50',\n    borderColor: 'border-yellow-200',\n    textColor: 'text-yellow-700'\n  },\n  cold: {\n    emoji: '‚ö™',\n    label: 'Cold Lead',\n    bgColor: 'bg-gray-50',\n    borderColor: 'border-gray-200',\n    textColor: 'text-gray-600'\n  }\n};\n\nconst sizeConfig = {\n  sm: 'text-sm px-2 py-0.5',\n  md: 'text-base px-3 py-1',\n  lg: 'text-lg px-4 py-2'\n};\n\nexport function HotnessIndicator({ hotness, factors, size = 'md' }: HotnessIndicatorProps) {\n  const [showExplanation, setShowExplanation] = useState(false);\n  const [position, setPosition] = useState<'bottom' | 'top'>('bottom');\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const tooltipRef = useRef<HTMLDivElement>(null);\n  \n  const config = hotnessConfig[hotness];\n  \n  // Determine tooltip position based on available space\n  useEffect(() => {\n    if (showExplanation && triggerRef.current) {\n      const rect = triggerRef.current.getBoundingClientRect();\n      const spaceBelow = window.innerHeight - rect.bottom;\n      setPosition(spaceBelow < 200 ? 'top' : 'bottom');\n    }\n  }, [showExplanation]);\n  \n  // Close on outside click\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        tooltipRef.current && \n        !tooltipRef.current.contains(event.target as Node) &&\n        triggerRef.current &&\n        !triggerRef.current.contains(event.target as Node)\n      ) {\n        setShowExplanation(false);\n      }\n    };\n    \n    if (showExplanation) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showExplanation]);\n  \n  const explanation = getHotnessExplanation(hotness, factors);\n  \n  return (\n    <div className=\"relative inline-block\">\n      <button\n        ref={triggerRef}\n        onClick={() => setShowExplanation(!showExplanation)}\n        onMouseEnter={() => setShowExplanation(true)}\n        onMouseLeave={() => setShowExplanation(false)}\n        className={`\n          inline-flex items-center gap-1.5 rounded-full border\n          ${config.bgColor} ${config.borderColor} ${config.textColor}\n          ${sizeConfig[size]}\n          cursor-help transition-all hover:shadow-sm\n        `}\n        aria-label={`${config.label}: Click for details`}\n      >\n        <span role=\"img\" aria-hidden=\"true\">{config.emoji}</span>\n        <span className=\"font-medium\">{config.label}</span>\n      </button>\n      \n      {showExplanation && (\n        <div\n          ref={tooltipRef}\n          className={`\n            absolute z-50 w-72 p-4 bg-white rounded-lg shadow-lg border border-gray-200\n            ${position === 'bottom' ? 'top-full mt-2' : 'bottom-full mb-2'}\n            left-0\n          `}\n          role=\"tooltip\"\n        >\n          <div className=\"flex items-center gap-2 mb-3 pb-2 border-b border-gray-100\">\n            <span className=\"text-xl\">{config.emoji}</span>\n            <span className={`font-semibold ${config.textColor}`}>{config.label}</span>\n          </div>\n          \n          <p className=\"text-sm text-gray-700 leading-relaxed\">\n            {explanation}\n          </p>\n          \n          {factors.filter(f => f.present).length > 0 && (\n            <div className=\"mt-3 pt-3 border-t border-gray-100\">\n              <p className=\"text-xs font-medium text-gray-500 mb-2\">What we noticed:</p>\n              <ul className=\"space-y-1\">\n                {factors.filter(f => f.present).map((factor, index) => (\n                  <li key={index} className=\"text-xs text-gray-600 flex items-center gap-1.5\">\n                    <span className=\"text-green-500\">‚úì</span>\n                    {factor.name}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n          \n          <div \n            className={`\n              absolute w-3 h-3 bg-white border-gray-200 transform rotate-45\n              ${position === 'bottom' \n                ? '-top-1.5 left-6 border-l border-t' \n                : '-bottom-1.5 left-6 border-r border-b'\n              }\n            `}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\n/**\n * Compact hotness badge for list views\n */\ninterface HotnessBadgeProps {\n  hotness: LeadHotness;\n}\n\nexport function HotnessBadge({ hotness }: HotnessBadgeProps) {\n  const config = hotnessConfig[hotness];\n  \n  return (\n    <span \n      className={`\n        inline-flex items-center gap-1 text-xs font-medium rounded-full px-2 py-0.5\n        ${config.bgColor} ${config.borderColor} ${config.textColor} border\n      `}\n      title={config.label}\n    >\n      <span role=\"img\" aria-hidden=\"true\">{config.emoji}</span>\n    </span>\n  );\n}\n\nexport default HotnessIndicator;\n","/**\n * Lead Scoring Service\n * Calculates lead hotness based on engagement signals\n * \n * INTERNAL SCORING (never expose numbers to UI):\n * - Pricing inquiry: +30\n * - Availability check: +25\n * - Contact provided: +25\n * - High-intent page: +20\n * - Urgency signal: +15\n * - Repeat visitor: +10\n */\n\nimport { LeadHotness, HotnessFactor, ConversationMessage, LeadSource } from '../types';\n\ninterface ContactInfo {\n  hasEmail: boolean;\n  hasPhone: boolean;\n}\n\n// Internal scoring weights (NEVER expose these to users)\nconst SCORING_WEIGHTS = {\n  PRICING_INQUIRY: 30,\n  AVAILABILITY_CHECK: 25,\n  CONTACT_PROVIDED: 25,\n  HIGH_INTENT_PAGE: 20,\n  URGENCY_SIGNAL: 15,\n  REPEAT_VISITOR: 10\n};\n\n// High-intent pages\nconst HIGH_INTENT_PAGES = ['/pricing', '/contact', '/services', '/starting-a-business'];\n\n// Keywords for detection\nconst PRICING_KEYWORDS = ['price', 'cost', 'pricing', 'how much', 'fee', 'charge', 'rate', 'afford', 'budget', 'investment'];\nconst AVAILABILITY_KEYWORDS = ['available', 'availability', 'when', 'schedule', 'meeting', 'appointment', 'call', 'time slot', 'book'];\nconst URGENCY_KEYWORDS = ['urgent', 'asap', 'immediately', 'today', 'tomorrow', 'quickly', 'soon', 'rush', 'deadline'];\n\n/**\n * Calculate lead score based on engagement signals\n * @returns Internal score (never expose to UI)\n */\nexport function calculateLeadScore(\n  conversation: ConversationMessage[],\n  source: LeadSource,\n  contactInfo: ContactInfo\n): number {\n  let score = 0;\n  \n  const allUserMessages = conversation\n    .filter(m => m.role === 'user')\n    .map(m => m.content.toLowerCase())\n    .join(' ');\n\n  // Check for pricing inquiry\n  if (PRICING_KEYWORDS.some(kw => allUserMessages.includes(kw))) {\n    score += SCORING_WEIGHTS.PRICING_INQUIRY;\n  }\n\n  // Check for availability inquiry\n  if (AVAILABILITY_KEYWORDS.some(kw => allUserMessages.includes(kw))) {\n    score += SCORING_WEIGHTS.AVAILABILITY_CHECK;\n  }\n\n  // Check for contact info provided\n  if (contactInfo.hasEmail || contactInfo.hasPhone) {\n    score += SCORING_WEIGHTS.CONTACT_PROVIDED;\n  }\n\n  // Check for high-intent page\n  if (HIGH_INTENT_PAGES.some(page => source.page.includes(page))) {\n    score += SCORING_WEIGHTS.HIGH_INTENT_PAGE;\n  }\n\n  // Check for urgency signals\n  if (URGENCY_KEYWORDS.some(kw => allUserMessages.includes(kw))) {\n    score += SCORING_WEIGHTS.URGENCY_SIGNAL;\n  }\n\n  return score;\n}\n\n/**\n * Determine hotness level from score\n * Thresholds: Cold < 25, Warm 25-54, Hot >= 55\n */\nexport function determineHotness(score: number): LeadHotness {\n  if (score >= 55) return 'hot';\n  if (score >= 25) return 'warm';\n  return 'cold';\n}\n\n/**\n * Get all hotness factors with presence status\n */\nexport function getHotnessFactors(\n  conversation: ConversationMessage[],\n  source: LeadSource,\n  contactInfo: ContactInfo\n): HotnessFactor[] {\n  const allUserMessages = conversation\n    .filter(m => m.role === 'user')\n    .map(m => m.content.toLowerCase())\n    .join(' ');\n\n  return [\n    {\n      type: 'pricing_inquiry',\n      name: 'Pricing Inquiry',\n      description: 'Asked about pricing or costs',\n      present: PRICING_KEYWORDS.some(kw => allUserMessages.includes(kw))\n    },\n    {\n      type: 'availability_check',\n      name: 'Availability Check',\n      description: 'Inquired about availability or scheduling',\n      present: AVAILABILITY_KEYWORDS.some(kw => allUserMessages.includes(kw))\n    },\n    {\n      type: 'contact_provided',\n      name: 'Contact Provided',\n      description: 'Provided contact information',\n      present: contactInfo.hasEmail || contactInfo.hasPhone\n    },\n    {\n      type: 'high_intent_page',\n      name: 'High-Intent Page',\n      description: 'Visited from a high-intent page',\n      present: HIGH_INTENT_PAGES.some(page => source.page.includes(page))\n    },\n    {\n      type: 'urgency_signal',\n      name: 'Urgency Signal',\n      description: 'Expressed urgency or time sensitivity',\n      present: URGENCY_KEYWORDS.some(kw => allUserMessages.includes(kw))\n    }\n  ];\n}\n\n/**\n * Get human-readable explanation for hotness level\n * CRITICAL: Never include numeric scores - returns string only\n */\nexport function getHotnessExplanation(\n  hotness: LeadHotness,\n  factors: HotnessFactor[]\n): string {\n  const presentFactors = factors.filter(f => f.present);\n  \n  const explanations = {\n    hot: 'This person is highly engaged and showing strong buying signals. They are ready to take action and should be contacted promptly.',\n    warm: 'This person is interested and exploring their options. They need a bit more information or nurturing before committing.',\n    cold: 'This person is in early research mode or may not be a strong fit. They haven\\'t shown strong buying signals yet.'\n  };\n\n  let explanation = explanations[hotness];\n  \n  if (presentFactors.length > 0) {\n    const factorNames = presentFactors.map(f => f.name || f.description).join(', ');\n    explanation += ` We noticed: ${factorNames}.`;\n  }\n  \n  return explanation;\n}\n\n/**\n * Get detailed explanation object (for extended UI)\n */\nexport function getDetailedHotnessExplanation(\n  hotness: LeadHotness,\n  factors: HotnessFactor[]\n): { title: string; meaning: string; reasons: string[]; recommendations: string } {\n  const presentFactors = factors.filter(f => f.present);\n  const reasons = presentFactors.map(f => f.description || f.name);\n\n  const explanations = {\n    hot: {\n      title: 'üî• Hot Lead',\n      meaning: 'This person is highly engaged and showing strong buying signals. They are ready to take action and should be contacted promptly.',\n      recommendations: 'Reach out within 24 hours. Prepare specific answers to their questions and have availability ready to offer.'\n    },\n    warm: {\n      title: 'üü° Warm Lead',\n      meaning: 'This person is interested and exploring their options. They need a bit more information or nurturing before committing.',\n      recommendations: 'Follow up with helpful information. Answer their questions thoroughly and offer a no-pressure consultation.'\n    },\n    cold: {\n      title: '‚ö™ Cold Lead',\n      meaning: 'This person is in early research mode or may not be a strong fit. They haven\\'t shown strong buying signals yet.',\n      recommendations: 'Keep them informed with general updates. Don\\'t push for immediate action but stay available.'\n    }\n  };\n\n  return {\n    title: explanations[hotness].title,\n    meaning: explanations[hotness].meaning,\n    reasons: reasons.length > 0 ? reasons : ['No strong engagement signals detected yet'],\n    recommendations: explanations[hotness].recommendations\n  };\n}\n\n/**\n * Full lead scoring pipeline\n */\nexport function scoreLead(\n  conversation: ConversationMessage[],\n  source: LeadSource,\n  email: string | null,\n  phone: string | null\n): { hotness: LeadHotness; factors: HotnessFactor[] } {\n  const contactInfo = {\n    hasEmail: !!email,\n    hasPhone: !!phone\n  };\n\n  const factors = getHotnessFactors(conversation, source, contactInfo);\n  const score = calculateLeadScore(conversation, source, contactInfo);\n  const hotness = determineHotness(score);\n\n  return { hotness, factors };\n}\n","'use client';\n\n/**\n * Dashboard Main Page - Production Version\n * Displays metrics overview and lead list\n * \n * SECURITY:\n * - Session validation at middleware level\n * - Logout redirects to main site\n * - No public navigation - dashboard only\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { signOut } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport { LeadList } from './components/LeadCard';\nimport { AnalyticsSection } from './components/AnalyticsSection';\nimport { LeadCardPreview, LeadHotness } from './types';\n\nexport default function DashboardPage() {\n  const router = useRouter();\n  const [leads, setLeads] = useState<LeadCardPreview[]>([]);\n  const [counts, setCounts] = useState<{ hot: number; warm: number; cold: number; total: number } | null>(null);\n  const [filter, setFilter] = useState<'all' | LeadHotness>('all');\n  const [isLoading, setIsLoading] = useState(true);\n\n  const homeHref = process.env.NEXT_PUBLIC_SITE_URL || '/';\n  \n  useEffect(() => {\n    async function loadDashboard() {\n      try {\n        // SECURITY: Call API routes (not direct service calls)\n        // API validates session and businessId ownership\n        const [leadsRes, countsRes] = await Promise.all([\n          fetch('/dashboard/api/leads?view=preview').then(r => r.json()),\n          fetch('/dashboard/api/metrics?type=counts').then(r => r.json())\n        ]);\n        \n        if (leadsRes.success) setLeads(leadsRes.data!);\n        if (countsRes.success) setCounts(countsRes.data!);\n      } catch (error) {\n        console.error('Failed to load dashboard:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    \n    loadDashboard();\n  }, []);\n\n  const handleLogout = async () => {\n    await signOut({ redirect: false });\n    router.push('/');\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      {/* Header - Glossy glass-morphism style */}\n      <header className=\"backdrop-blur-xl bg-white/70 border-b border-white/20 shadow-lg shadow-blue-100/50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                Innovation Business Development Solutions\n              </h1>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                Leads Dashboard\n              </p>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <a\n                href={homeHref}\n                className=\"px-5 py-2.5 bg-white/80 text-gray-800 font-medium rounded-xl shadow-lg shadow-blue-100/40 hover:shadow-xl hover:shadow-blue-200/50 transition-all duration-300 border border-white/20\"\n              >\n                Back to Homepage\n              </a>\n\n              <button\n                onClick={handleLogout}\n                className=\"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white font-medium rounded-xl shadow-lg shadow-red-200/50 hover:shadow-xl hover:shadow-red-300/50 transition-all duration-300 hover:scale-105\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Analytics Section */}\n        <AnalyticsSection />\n        \n        {/* Leads Section */}\n        <section className=\"mt-10\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n              Recent Leads\n              {counts && (\n                <span className=\"text-sm font-normal text-gray-500 ml-2\">\n                  ({counts.total} total)\n                </span>\n              )}\n            </h2>\n          </div>\n          \n          <LeadList \n            leads={leads}\n            filter={filter}\n            onFilterChange={setFilter}\n            isLoading={isLoading}\n          />\n        </section>\n      </main>\n      \n      {/* Footer */}\n      <footer className=\"backdrop-blur-xl bg-white/70 border-t border-white/20 shadow-lg shadow-blue-100/50 mt-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <p className=\"text-xs text-gray-500 text-center\">\n            ¬© {new Date().getFullYear()} Innovation Business Development Solutions. All rights reserved.\n          </p>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","'use client';\n\n/**\n * LeadCard Component\n * Inbox-style preview card for leads list\n */\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { LeadCardPreview, LeadHotness, LeadIntent } from '../types';\nimport { HotnessBadge } from './HotnessIndicator';\n\ninterface LeadCardProps {\n  lead: LeadCardPreview;\n  isSelected?: boolean;\n  onClick?: () => void;\n}\n\nconst intentLabels: Record<LeadIntent, string> = {\n  sales: 'üíº Sales Inquiry',\n  booking: 'üìÖ Wants to Book',\n  question: '‚ùì Has Questions',\n  support: 'üÜò Needs Support',\n  unknown: 'üí≠ Exploring'\n};\n\nfunction formatRelativeTime(dateInput: Date | string): string {\n  const date = typeof dateInput === 'string' ? new Date(dateInput) : dateInput;\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n  \n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays === 1) return 'Yesterday';\n  if (diffDays < 7) return `${diffDays}d ago`;\n  \n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n}\n\nexport function LeadCard({ lead, isSelected, onClick }: LeadCardProps) {\n  const displayName = lead.fullName || 'Anonymous Visitor';\n  const intentLabel = intentLabels[lead.intent];\n  \n  return (\n    <Link\n      href={`/dashboard/leads/${lead.id}`}\n      className={`\n        block p-5 border-b border-white/20 backdrop-blur-xl bg-white/80 hover:bg-white/90 transition-all duration-300 hover:shadow-lg hover:shadow-blue-100/50\n        ${isSelected ? 'bg-gradient-to-r from-blue-50/80 to-purple-50/80 border-l-4 border-l-blue-500 shadow-lg shadow-blue-200/50' : ''}\n        ${lead.hasUnreadActivity ? 'bg-gradient-to-r from-blue-50/60 to-indigo-50/60' : ''}\n        rounded-xl mb-2\n      `}\n      onClick={onClick}\n    >\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            {lead.hasUnreadActivity && (\n              <span className=\"w-2.5 h-2.5 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex-shrink-0 animate-pulse shadow-lg shadow-blue-400/50\" title=\"New activity\" />\n            )}\n            <span className=\"font-bold text-gray-900 truncate text-lg\">\n              {displayName}\n            </span>\n          </div>\n          \n          <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2 font-medium\">\n            <span>{intentLabel}</span>\n            <span className=\"text-gray-300\">‚Ä¢</span>\n            <span>from {lead.sourcePage}</span>\n          </div>\n        </div>\n        \n        <div className=\"flex flex-col items-end gap-2 flex-shrink-0\">\n          <HotnessBadge hotness={lead.hotness} />\n          <span className=\"text-xs text-gray-500 font-medium\">\n            {formatRelativeTime(lead.createdAt)}\n          </span>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\n/**\n * LeadList Component\n * Container for lead cards with filtering\n */\n\ninterface LeadListProps {\n  leads: LeadCardPreview[];\n  selectedLeadId?: string;\n  filter?: 'all' | LeadHotness;\n  onFilterChange?: (filter: 'all' | LeadHotness) => void;\n  isLoading?: boolean;\n}\n\nexport function LeadList({ \n  leads, \n  selectedLeadId, \n  filter = 'all', \n  onFilterChange,\n  isLoading \n}: LeadListProps) {\n  const filterOptions: { value: 'all' | LeadHotness; label: string; emoji: string }[] = [\n    { value: 'all', label: 'All', emoji: 'üìã' },\n    { value: 'hot', label: 'Hot', emoji: 'üî•' },\n    { value: 'warm', label: 'Warm', emoji: 'üü°' },\n    { value: 'cold', label: 'Cold', emoji: '‚ö™' }\n  ];\n  \n  const filteredLeads = filter === 'all' \n    ? leads \n    : leads.filter(l => l.hotness === filter);\n  \n  if (isLoading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\n        <div className=\"p-4 border-b border-gray-100\">\n          <div className=\"h-8 bg-gray-200 rounded w-3/4 animate-pulse\" />\n        </div>\n        {[1, 2, 3, 4, 5].map(i => (\n          <div key={i} className=\"p-4 border-b border-gray-100 animate-pulse\">\n            <div className=\"h-4 bg-gray-200 rounded w-1/2 mb-2\" />\n            <div className=\"h-3 bg-gray-200 rounded w-3/4\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\n      {/* Filter Tabs */}\n      <div className=\"flex items-center gap-1 p-2 border-b border-gray-100 bg-gray-50\">\n        {filterOptions.map(option => (\n          <button\n            key={option.value}\n            onClick={() => onFilterChange?.(option.value)}\n            className={`\n              flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors\n              ${filter === option.value \n                ? 'bg-white shadow-sm text-gray-900' \n                : 'text-gray-500 hover:text-gray-700 hover:bg-white/50'\n              }\n            `}\n          >\n            <span>{option.emoji}</span>\n            <span>{option.label}</span>\n            {option.value !== 'all' && (\n              <span className=\"text-xs text-gray-400 ml-1\">\n                ({leads.filter(l => l.hotness === option.value).length})\n              </span>\n            )}\n          </button>\n        ))}\n      </div>\n      \n      {/* Lead List */}\n      <div className=\"divide-y divide-gray-100 max-h-[600px] overflow-y-auto\">\n        {filteredLeads.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            <span className=\"text-4xl mb-2 block\">üì≠</span>\n            <p>No leads found</p>\n          </div>\n        ) : (\n          filteredLeads.map(lead => (\n            <LeadCard \n              key={lead.id} \n              lead={lead}\n              isSelected={lead.id === selectedLeadId}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default LeadCard;\n","'use client';\n\nimport React, { useEffect, useMemo, useState } from 'react';\n\ntype AnalyticsPayload = {\n  totalLeads: number;\n  leadsWithContact: number;\n  conversionRate: number; // percentage\n  hotWarmCold: { hot: number; warm: number; cold: number };\n  leadsPerDay: Array<{ date: string; value: number }>;\n};\n\nexport function AnalyticsSection() {\n  const [data, setData] = useState<AnalyticsPayload | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    async function load() {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const res = await fetch('/dashboard/api/analytics');\n        const json = await res.json();\n\n        if (!res.ok || !json?.success) {\n          throw new Error(json?.error || `Request failed (${res.status})`);\n        }\n\n        if (!cancelled) setData(json.data as AnalyticsPayload);\n      } catch (e) {\n        if (!cancelled) setError(e instanceof Error ? e.message : 'Failed to load analytics');\n      } finally {\n        if (!cancelled) setIsLoading(false);\n      }\n    }\n\n    load();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  const chart = useMemo(() => {\n    const points = data?.leadsPerDay || [];\n    const max = Math.max(...points.map(p => p.value), 1);\n\n    const width = 560;\n    const height = 140;\n    const paddingX = 20;\n    const paddingY = 20;\n    const barGap = 10;\n\n    const barCount = points.length || 7;\n    const totalGap = barGap * (barCount - 1);\n    const availableWidth = width - paddingX * 2 - totalGap;\n    const barWidth = Math.max(14, Math.floor(availableWidth / barCount));\n\n    return {\n      width,\n      height,\n      paddingX,\n      paddingY,\n      barWidth,\n      barGap,\n      max,\n      points\n    };\n  }, [data]);\n\n  return (\n    <section className=\"mt-10\" data-testid=\"analytics-section\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n          Analytics\n        </h2>\n      </div>\n\n      {isLoading && (\n        <div className=\"backdrop-blur-xl bg-white/70 rounded-2xl border border-white/20 shadow-lg shadow-blue-100/50 p-6\">\n          <p className=\"text-gray-600 font-medium loading\">Loading analytics‚Ä¶</p>\n          {/* Always render data-testid for CI stability */}\n          <div data-testid=\"total-leads\" className=\"hidden\">\n            <span data-testid=\"total-leads-value\">0</span>\n          </div>\n        </div>\n      )}\n\n      {!isLoading && error && (\n        <div className=\"backdrop-blur-xl bg-white/70 rounded-2xl border border-red-200 shadow-lg p-6\">\n          <p className=\"text-red-600 font-semibold\">Failed to load analytics</p>\n          <p className=\"text-sm text-gray-600 mt-1\">{error}</p>\n          {/* Always render data-testid for CI stability */}\n          <div data-testid=\"total-leads\" className=\"hidden\">\n            <span data-testid=\"total-leads-value\">0</span>\n          </div>\n        </div>\n      )}\n\n      {!isLoading && !error && data && (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div\n              className=\"backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\"\n              data-testid=\"total-leads\"\n            >\n              <div className=\"text-sm text-gray-600 font-medium mb-2\">Total Leads</div>\n              <div className=\"text-3xl font-bold text-gray-900\" data-testid=\"total-leads-value\">\n                {data.totalLeads}\n              </div>\n            </div>\n\n            <div className=\"backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\">\n              <div className=\"text-sm text-gray-600 font-medium mb-2\">Hot</div>\n              <div className=\"text-3xl font-bold text-red-600\">{data.hotWarmCold.hot}</div>\n            </div>\n\n            <div className=\"backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\">\n              <div className=\"text-sm text-gray-600 font-medium mb-2\">Warm</div>\n              <div className=\"text-3xl font-bold text-amber-600\">{data.hotWarmCold.warm}</div>\n            </div>\n\n            <div className=\"backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\">\n              <div className=\"text-sm text-gray-600 font-medium mb-2\">Cold</div>\n              <div className=\"text-3xl font-bold text-slate-600\">{data.hotWarmCold.cold}</div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6\">\n            <div className=\"lg:col-span-2 backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\">\n              <div className=\"text-sm text-gray-600 font-medium mb-4\">Leads per day (last 7 days)</div>\n              <svg\n                data-testid=\"leads-chart\"\n                className=\"chart\"\n                width={chart.width}\n                height={chart.height}\n                viewBox={`0 0 ${chart.width} ${chart.height}`}\n                role=\"img\"\n                aria-label=\"Leads per day chart\"\n              >\n                <defs>\n                  <linearGradient id=\"barGrad\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"0%\" stopColor=\"#6366f1\" stopOpacity=\"0.9\" />\n                    <stop offset=\"100%\" stopColor=\"#a855f7\" stopOpacity=\"0.8\" />\n                  </linearGradient>\n                </defs>\n                {chart.points.map((p, i) => {\n                  const x = chart.paddingX + i * (chart.barWidth + chart.barGap);\n                  const usableHeight = chart.height - chart.paddingY * 2;\n                  const barHeight = Math.round((p.value / chart.max) * usableHeight);\n                  const y = chart.height - chart.paddingY - barHeight;\n                  return (\n                    <g key={p.date}>\n                      <rect\n                        x={x}\n                        y={y}\n                        width={chart.barWidth}\n                        height={barHeight}\n                        rx={6}\n                        fill=\"url(#barGrad)\"\n                      />\n                    </g>\n                  );\n                })}\n              </svg>\n            </div>\n\n            <div className=\"backdrop-blur-xl bg-white/80 rounded-2xl shadow-xl shadow-blue-100/50 border border-white/20 p-6\">\n              <div className=\"text-sm text-gray-600 font-medium mb-2\">Conversion Rate</div>\n              <div className=\"text-3xl font-bold text-gray-900\">{data.conversionRate}%</div>\n              <div className=\"text-sm text-gray-500 mt-2\">\n                {data.leadsWithContact}/{data.totalLeads} leads include contact info\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </section>\n  );\n}\n\nexport default AnalyticsSection;\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}